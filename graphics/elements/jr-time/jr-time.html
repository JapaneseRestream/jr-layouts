<link rel="import" href="../../../bower_components/polymer/polymer-element.html">

<dom-module id="jr-time">

	<template>
		<style>
			div {
				font-size: 20px;
				text-align: center;
			}
		</style>

		<div>現地：[[time]]</div>
	</template>

	<script>
		/* global Polymer */
		(function () {
			class JrTime extends Polymer.Element {
				static get is() {
					return 'jr-time';
				}

				ready() {
					super.ready();

					setInterval(() => {
						const newTime = this.getTime();
						if (newTime !== this.time) {
							this.time = newTime;
						}
					}, 100);
				}

				getTime() {
					const now = Date.now();
					return new Date(now - (15 * 60 * 60 * 1000)).toLocaleString('ja-JP');
				}
			}
			customElements.define(JrTime.is, JrTime);
		})();
	</script>
</dom-module>
